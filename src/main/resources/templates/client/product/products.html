<!DOCTYPE html>
<html lang="en" dir="ltr"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/client/layout.html}">
<head>
    <title>Sản phẩm</title>
<body>

    <section layout:fragment="content">
        <!-- Subheader Start -->
        <div class="subheader bg-cover bg-center dark-overlay" style="padding: 290px 0 30px;"
             th:style="'background-image: url(/client/img/subheader.jpg);'"
             th:styleappend="'padding: 290px 0 30px'">
            <div class="container">
                <div class="subheader-inner">
                    <h1 class="text-white">Danh sách sản phẩm</h1>
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="#"> <i class="fas fa-home"></i> </a></li>
                            <li class="breadcrumb-item active" aria-current="page">Sản phẩm</li>
                        </ol>
                    </nav>
                </div>
            </div>
        </div>
        <!-- Subheader End -->

        <div style="margin-top: 50px;" class="container centered">
            <div style="width: 100%;
                        background-color: #fff;
                        padding: 20px 20px 0;
                        border-radius: 8px;
                        border: 1px solid rgba(0,0,0,.1);"
                 class="acr-filter-form">
                <form method="post">
                    <div class="row">
                        <div class="col-lg-3 col-md-6">
                            <div class="form-group acr-custom-select">
                                <label>Location: </label>
                                <select class="acr-select2" name="location">
                                    <option value="" label="Location"></option>
                                    <option value="*">Any Location</option>
                                    <option value="California, CA">California, CA</option>
                                    <option value="Lawndale, CA">Lawndale, CA</option>
                                    <option value="Stroudsburg, PA">Stroudsburg, PA</option>
                                    <option selected value="West Roxbury, MA">West Roxbury, MA</option>
                                    <option value="Ponte Vedra Beach, FL">Ponte Vedra Beach, FL</option>
                                    <option value="Fort Worth, TX">Fort Worth, TX</option>
                                    <option value="Willingboro, NJ">Willingboro, NJ</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="form-group acr-custom-select">
                                <label>Status: </label>
                                <select class="acr-select2" name="status">
                                    <option value="" label="Status"></option>
                                    <option selected value="*">Any Status</option>
                                    <option value="Jewelry">Jewelry</option>
                                    <option value="Featured">Featured</option>
                                    <option value="Womens Jewelry">Womens Jewelry</option>
                                    <option value="New Arrival ">New Arrival </option>
                                    <option value="New Addition">New Addition</option>
                                    <option value="Red Jewelry ">Red Jewelry </option>
                                    <option value="On Sale ">On Sale </option>
                                    <option value="Rings">Rings</option>
                                    <option value="Special Offer">Special Offer</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="form-group acr-custom-select">
                                <label>Price Range: </label>
                                <select class="acr-select2" name="price">
                                    <option value="" label="Price Range"></option>
                                    <option selected value="*">Any Range</option>
                                    <option value="$60k - $80k">$1 - $2</option>
                                    <option value="$80k - $100k">$2 - $10</option>
                                    <option value="$100k - $120k">$100k - $120k</option>
                                    <option value="$120k - $140k">$120k - $140k</option>
                                    <option value="$140k - $160k">$140k - $160k</option>
                                    <option value="$160k - $180k">$160k - $180k</option>
                                    <option value="$180k - $200k">$180k - $200k</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="form-group acr-custom-select">
                                <label>Price Range: </label>
                                <select class="acr-select2" name="price">
                                    <option value="" label="Price Range"></option>
                                    <option selected value="*">Any Range</option>
                                    <option value="$60k - $80k">$1 - $2</option>
                                    <option value="$80k - $100k">$2 - $10</option>
                                    <option value="$100k - $120k">$100k - $120k</option>
                                    <option value="$120k - $140k">$120k - $140k</option>
                                    <option value="$140k - $160k">$140k - $160k</option>
                                    <option value="$160k - $180k">$160k - $180k</option>
                                    <option value="$180k - $200k">$180k - $200k</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-3 col-md-6">
                            <div class="acr-custom-select form-group">
                                <label>Price : </label>
                                <select class="acr-select2" name="beds">
                                    <option value="" label="Price "></option>
                                    <option selected value="*">Any amount</option>
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5+">5+</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="acr-custom-select form-group">
                                <label>Square Diamond</label>
                                <select class="acr-select2" name="baths">
                                    <option value="" label="Bathrooms"></option>
                                    <option selected value="*">Any amount</option>
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5+">5+</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="acr-custom-select form-group">
                                <label>Type: </label>
                                <select class="acr-select2" name="type">
                                    <option value="" label="Type"></option>
                                    <option selected value="*">Any Type</option>
                                    <option value="Womens Jewelry ">Womens Jewelry </option>
                                    <option value="Jewelry">Jewelry</option>
                                    <option value="Square Scacco Diamond Ring">Square Scacco Diamond Ring</option>
                                    <option value="Scacco Diamond Ring">Scacco Diamond Ring</option>
                                    <option value=" Scacco Diamond Ring"> Scacco Diamond Ring</option>
                                    <option value="Square Scacco Diamond Ring">Square Scacco Diamond Ring</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="acr-custom-select form-group">
                                <label>Diameter: </label>
                                <select class="acr-select2" name="diameter">
                                    <option value="" label="Diameter"></option>
                                    <option selected value="*">Any Range</option>
                                    <option value="Within 2 miles">Within 2 miles</option>
                                    <option value="Within 4 miles">Within 4 miles</option>
                                    <option value="Within 6 miles">Within 6 miles</option>
                                    <option value="Within 8 miles">Within 8 miles</option>
                                    <option value="Within 10 miles">Within 10 miles</option>
                                    <option value="Within 12 miles">Within 12 miles</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- Jewelry Start -->
        <div style="padding-top: 50px;" class="section">
            <div class="container">

                <div class="row">

                    <!-- Posts Start -->
                    <div class="col-lg-12">

                        <div id="products" class="row">

                        </div>

                        <!-- Pagination Start -->
                        <ul id="pagination" class="pagination">

                        </ul>
                        <!-- Pagination End -->
                    </div>
                    <!-- Posts End -->
                </div>

            </div>
        </div>
        <!-- Jewelry End -->

    </section>

    <th:block layout:fragment="script">

        <script th:src="@{/client/js/product/product.js}"></script>

        <script>
            $(document).ready(async () => {
                const categorySlug = pathArray.slice(-1);
                let url;
                if(categorySlug.toString() === 'trang-suc') {
                    url = '/products';
                } else {
                    url = `/products/categories/${categorySlug}`;
                }

                // Get products
                await axios.get(baseUrl + url, {
                    params: {
                        page: urlParams.get('page')
                    }
                }).then((res) => {
                    let products = res.data.content.elements.map((product) => {
                        return renderProduct(product);
                    }).join(' ');
                    $('#products').html(products);

                    let pagination = renderPagination(res.data.content.totalPages, res.data.content.currentPage);
                    $('#pagination').html(pagination);
                });

            });
        </script>

    </th:block>

</body>
</html>